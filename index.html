<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Riyerikan | Eternal</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #020205;
            color: #ffffff;
            font-family: 'Optima', sans-serif;
            overflow: hidden;
            -webkit-user-select: none;
            user-select: none;
        }
        #universe {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .scene {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 2s ease, transform 2s ease;
            z-index: 10;
        }
        .hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(1.1);
        }
        #star-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        .star-label {
            position: absolute;
            font-size: 0.8rem;
            letter-spacing: 2px;
            color: rgba(255,255,255,0.6);
            text-transform: uppercase;
        }
        .choice-box {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 2px;
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        .space-btn {
            display: block;
            width: 200px;
            padding: 15px;
            margin: 10px auto;
            background: none;
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            cursor: pointer;
            letter-spacing: 1px;
            transition: 0.4s;
        }
        #truth-btn {
            color: rgba(255,255,255,0.2);
        }
        #year-vortex {
            font-size: 8rem;
            font-weight: 900;
            background: linear-gradient(to bottom, #fff, #222);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0.1;
        }
        .constellation-text {
            max-width: 80%;
            text-align: center;
            line-height: 1.8;
            font-size: 1.2rem;
            text-shadow: 0 0 20px rgba(255,255,255,0.5);
        }
        .tap-zone {
            position: absolute;
            bottom: 40px;
            font-size: 0.7rem;
            opacity: 0.5;
            letter-spacing: 4px;
        }
        .flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>

<div id="universe">
    <canvas id="star-canvas"></canvas>
    <div id="flash-overlay" class="flash"></div>

    <div id="scene-1" class="scene">
        <div class="choice-box">
            <p style="margin-bottom: 30px; font-style: italic;">Joy: "I love you"</p>
            <button id="truth-btn" class="space-btn">The Truth</button>
            <button id="fake-btn" class="space-btn">"It's just lust"</button>
        </div>
    </div>

    <div id="scene-2" class="scene hidden">
        <div id="year-vortex">2022</div>
        <div style="color: rgba(255,255,255,0.4); margin-top: 20px;">Reflecting on the soul I tried to ignore...</div>
    </div>

    <div id="scene-3" class="scene hidden">
        <div id="message-display" class="constellation-text"></div>
        <div class="tap-zone">TAP TO ALIGN STARS</div>
    </div>
</div>

<script>
    const canvas = document.getElementById('star-canvas');
    const ctx = canvas.getContext('2d');
    const truthBtn = document.getElementById('truth-btn');
    const fakeBtn = document.getElementById('fake-btn');
    const scene1 = document.getElementById('scene-1');
    const scene2 = document.getElementById('scene-2');
    const scene3 = document.getElementById('scene-3');
    const yearVortex = document.getElementById('year-vortex');
    const flash = document.getElementById('flash-overlay');
    const messageDisplay = document.getElementById('message-display');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let stars = [];
    let particles = [];
    let isTransitioning = false;

    class Star {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.size = Math.random() * 1.5;
            this.blink = Math.random() * 0.05;
            this.alpha = Math.random();
        }
        draw() {
            ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fill();
        }
        update() {
            this.alpha += this.blink;
            if (this.alpha > 1 || this.alpha < 0) this.blink *= -1;
        }
    }

    const thoughts = [
        "Ina fatan tana lafiya.",
        "I'm only looking for you",
        "The soul God put in you.",
        "The way you speak Hausa...",
        "Every atom is waiting.",
        "Zuciyata ba ta karya take yi ba.",
        "Perfection I see in you.",
        "Why did I lie?"
    ];

    const finalStory = [
        "I love you and every atom in my body, every fiber loves you.",
        "I loved everything about you from the way you talk to the way you laugh, to the way you speak Hausa.",
        "I meant this in every way. I didn't just love your flesh, I loved the soul God put in you.",
        "I never wanted you to be out of my life, even if you wanted to push me away, I'll always come back.",
        "My love for you isn't a phase neither is it a 'to' cause this 'to' shall not pass away.",
        "I hear a song and I think about you. I watch a movie and I think about you. I see an old couple and I think about you.",
        "I see your text message and I use over an hour to wonder what I should reply to it with...",
        "Not out of confusion, but out of respect and the perfection I see in you.",
        "You are my everlasting twin flame that will keep burning.",
        "Eventually someday I'll meet you, and on one knee will I go down.",
        "<span style='color:#ff4d4d; font-size: 2rem; font-weight: bold;'>Zuciyata tana bugawa gareki.</span>"
    ];

    function initStars() {
        for(let i=0; i<200; i++) stars.push(new Star());
    }

    function animate() {
        ctx.fillStyle = 'rgba(2, 2, 5, 0.2)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        stars.forEach(s => { s.update(); s.draw(); });
        requestAnimationFrame(animate);
    }

    truthBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        truthBtn.style.position = 'fixed';
        truthBtn.style.left = Math.random() * (window.innerWidth - 150) + 'px';
        truthBtn.style.top = Math.random() * (window.innerHeight - 100) + 'px';
    });

    fakeBtn.addEventListener('click', () => {
        scene1.classList.add('hidden');
        setTimeout(() => {
            scene1.style.display = 'none';
            scene2.classList.remove('hidden');
            startCosmicReflection();
        }, 2000);
    });

    function startCosmicReflection() {
        let yr = 2022;
        const interval = setInterval(() => {
            if (yr < 2025) {
                yr++;
                yearVortex.innerText = yr;
            } else {
                clearInterval(interval);
                setTimeout(() => {
                    yearVortex.innerText = "DECEMBER";
                    yearVortex.style.opacity = "0.5";
                }, 1000);
                setTimeout(triggerSupernova, 3500);
            }
        }, 1500);
    }

    function triggerSupernova() {
        flash.style.opacity = '1';
        setTimeout(() => {
            scene2.style.display = 'none';
            scene3.classList.remove('hidden');
            flash.style.opacity = '0';
            showNextMessage();
        }, 1000);
    }

    let messageIndex = 0;
    function showNextMessage() {
        if (messageIndex < finalStory.length) {
            messageDisplay.style.opacity = 0;
            setTimeout(() => {
                messageDisplay.innerHTML = finalStory[messageIndex];
                messageDisplay.style.opacity = 1;
                messageIndex++;
            }, 500);
        }
    }

    scene3.addEventListener('click', showNextMessage);

    initStars();
    animate();
</script>

</body>
</html>
